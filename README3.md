# Домашнее задание к занятию "5.1. Основы виртуализации"

## Задача 1

Вкратце опишите, как вы поняли - в чем основное отличие паравиртуализации и виртуализации на основе ОС.

Ответ:

Полная или аппаратная виртуализация - означает, что гипервизором является сама ОС, заточена только для работы с виртуализацией.
Паравиартуализация - когда гипрервизор устанавливается на десктоп ОС типа Linux или Windows, т.е. они не могут работать без предварительно установленной ОС.
Виртуализация на основе ОС - когда гипрервизор встроен в ОС и может запускать только ВМ с ядром такого же типа как хостовая ОС и прямо в ее окружении.

## Задача 2

Выберите тип один из вариантов использования организации физических серверов, 
в зависимости от условий использования.

Организация серверов:
- физические сервера
- паравиртуализация
- виртуализация уровня ОС

Условия использования:

- Высоконагруженная база данных, чувствительная к отказу
- Различные Java-приложения
- Windows системы для использования Бухгалтерским отделом 
- Системы, выполняющие высокопроизводительные расчеты на GPU

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

Ответ:

Я бы выбрал физические сервера.
Для высоконагруженных баз данных использовать виртуальные системы, на мой взгляд, не есть хорошо. В любом случае любая виртуализация имеет потери производительности
в отличие от физических серверов. Хотя с использованием паравиртуализации в данном случае тоже все работало бы отлично.
Для web приложений так же можно выделить отдельный сервер на Linux c Apache. Все зависит конечно от количества приложений на этом сервере, если их не много то лучше конечно развренуть на небольшую виртуалочку на KVM.
Для Windows систем, можно развернуть терминальный сервер на одном железном и использовать всей бухгалтерией, так же не плохо будет работать
А вот для систем выполняющие высокопроизводительные расчеты на GPU, мне кажется, в данном случае это только физические сервера. Гипервизоры с паравиртуализацией и на уровне ОС не могут задействовать все рессурсы видеокарты. Можно еще развернуть на системы с аппаратной виртуализацией типа Xen или VMWare (они их хорошо поддерживают) но такой вариант не предлагается в задаче.
Тут все зависит от количества серверов их производительности и нагруженности, слишком скудные воодные данные для решения выбора архитектуры построения группы серверов.
Если серверов достаточно, то однозначно физические сервера.

## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
Ответ:
Можно выбрать VMWare, хорошо поддерживает Linux и Windows в качестве ВМ, есть програмная балансировка нагрузки, поддерживает механизмы репликацикаци (Site Recovery Manager), для создания резервных копий можно использовать Veeam Backup который хорошо работает с VMWare.

2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
Ответ:
Мой выбор - Proxmox, т.к. сам его использую в организации и он бесплатен. Умеет практически все, поддерживает Linux и Windows системы, интуитивно понятен, умеет делать резервные копии из коробки, распределять рессурсы, организацию высокой доступности в кластере.

3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
Ответ:
Здесь однозначно Hiper-V от Microsoft. Он мксимально совместим с windows инфраструктурой, если не собирать кластер то бесплатен. Разберется любой Windows системный администратор.

4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.
Ответ:
Для тестирования, можно использовать VirtualBox, запускается из под Windows и Linux, можно быстро разорачивать ВМ с помощью Vagrant и быстро убивать их после теста.
Самое удобное решение для тестирования на уже имеющейся вашей десктопной ОС, будь то Windows или Linux. 

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

Ответ:
Проблемы и недостатки гетерогинной сребы виртуализации:
	- Если среды достаточно сложные, то для их поддержки нужна серьезная команда сисадминов, что чревато финансовыми издержками для бизнеса на содержание такого штата специалистов
	- Затраты на лицензирование нескольких сред виртуализации так же финансово скажется для бизнеса
	- Сложность в миграции гостевых систем между средами
	- Выделение для каждой среды отдельного физического сервера
	- Кластеризация разных систем виртуализации практически невозможна между собой
Искоренить такие проблемы поможет переход к гомогенной среде. Выбрать оптимальную среду виртуализации с учетом имеющихся гостевых систем. Составить план миграции на единую систему.
Подсчитать расходы на миграцию и заручиться поддержкой бизнеса.
С учетом имеющегося опыта работы с средами виртуализации, то для продуктивных решений лучше использовать единую систему. В качестве дополнительных сред можно использовать различные open source
решения для тестирования. 