# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде
```
Ответ: Документо-ориентированная. CouchDB например, который использует JSON для хранения данных.
```
- Склады и автомобильные дороги для логистической компании
```
Ответ: Графовая. В качестве узлов будут выступать склады а ребра будут содержать информацию о расстоянии
и других данных о дорогах.
```
- Генеалогические деревья
```
Ответ: Иерархическая. Сама БД представляет древовидную структуру с одним родителем и множеством потомков,
что отлично подходит к нашей задаче. 
```
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
```
Ответ: Ключ-значение. Саммы оптимальный вариант.
```
- Отношения клиент-покупка для интернет-магазина
```
Ответ: Реляционная. Классический тип. Хорошо подходит для хранения в различных БД клиентов, 
товаров, и.т.д и взаимодействия между ними.
```

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

- Данные записываются на все узлы с задержкой до часа (асинхронная запись)
```
Ответ:  
Здесь явное отсутствие согласованности, что скорее всего приведет к различным ответам от разных узлов в один момент времени.
Я думаю данную систему можно классифицировать доступностью (A) и устойчивостью к разделению (P).
По PACELC теореме больше подходит - PC/EL
```
- При сетевых сбоях, система может разделиться на 2 раздельных кластера
```
Ответ:  
Так как система позволяет разделиться на отдельные работающие системы, то она несомненно обладаем свойством устойчивом к разделению (P).
Но ничего не сказано о доступности. Если система ответит на запрос (не важно будет он корректен или нет) то систему можно классифицировать как (AP).
Если же система не отвечает в угоду целостности данных, то (CP).
По PACELC теореме больше подходит - PA/EL
```
- Система может не прислать корректный ответ или сбросить соединение
```
Ответ:  
В данной системе не вижу однозначности.
Если система присылает не корректный ответ, но все же присылает, уже есть свойство (А), но не обладает согласованностью (C). Значит классифицируем (AP).
Если система сбрасывает соединение (отсутствие доступности), классифицируем как (CP).
По PACELC теореме больше подходит - PA/EC
```

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?
```
BASE и ACID - это два принципа, кторые противопоставлены друг другу. Т.к. один выступает за доступность
но допускает неточность значений а другой за надежность и исключает неверных записей.
Вывод: Два этих принциа нельзя сочетать в одной системе т.к. они противоречат друг другу.
```

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?
```
Ответ: На простом языке Pub/Sub можно описать как "Издатель-подписчик". Наиболее подходящая система,
для нашей задачи, это Redis изпользующий key-value хранилище хоть и не являющийся Pub/Sub системой но
отлично подходит для реализации Pub/Sub системы.
Минусы: Сложная работа с большими БД, которые не должны превышать объем ОЗУ сервера. Риск потери данных.
```
